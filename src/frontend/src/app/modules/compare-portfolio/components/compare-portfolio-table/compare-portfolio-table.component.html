<div #comparePortfoliosDetailsTableContainer class="compare-portfolio-details-table">
    <div *ngIf="!this.isModal" class="table-buttons-row">
        <button class="airframe__icon-button table__icon" (click)="showModal()" pTooltip="Full screen" tooltipPosition="left" tooltipStyleClass="airframe-tooltip"><em class="fa fa-expand"></em></button>
    </div>
  
    <p-table
        *ngIf="displayTable"
        [columns]="tableHeaderArray"
        [value]="metricDetailsTable"
        [scrollable]=true
        [scrollHeight]=tableHeight
        [paginator]="true"
        [rows]="50"
        [virtualScrollItemSize]="28"
        [reorderableColumns]=true
        [resizableColumns]=true
        scrollDirection="both"
        responsiveLayout="scroll"
        sortMode="single"
        [style]="{'width.px': tableWidth}"
        class="airframe-table">
  
        <ng-template pTemplate="header" let-columns>
            <tr>
                <ng-container *ngFor="let column of columns; let i = index">
                    <th
                        [ngStyle]="{'min-width': column.width + 'px'}"
                        scope="col"
                        [pSortableColumn]="column.field"
                        pResizableColumn pReorderableColumn
                        (click)="showSortIcon(column.field,i)"
                        (mouseenter)="hoverSortIcon(column.field,i, true)"
                        (mouseleave)="hoverSortIcon(column.field,i, false)"
                        >
                        <div class="column-header">
                            <span class="header-overflow">{{column.header}}</span>
                            <p-sortIcon class="sort-icon" field={{column.field}}></p-sortIcon>
                        </div>
                    </th>
                </ng-container>
            </tr>
        </ng-template>
  
        <ng-template pTemplate="body" let-row let-columns="columns">
            <tr class="row-overflow">
                <ng-container *ngFor="let column of columns;">
                  <td 
                      [ngStyle]="{'min-width': column.width + 'px'}"
                      id="table-row-flexed">
                        <div *ngIf="column.type !== 'number' && column.type !== 'date'">{{row[column.field] || '-'}}</div>
                        <div *ngIf="column.type === 'number'">{{(row[column.field] | number: column.pipeFormat) || '-'}}</div>
                        <div *ngIf="column.type === 'date'">{{(row[column.field] | date: 'dd-MMM-yyyy') || '-'}}</div>
                    </td>
                </ng-container>
            </tr>
        </ng-template>
  
    </p-table>
  </div>
  
  <p-dialog *ngIf="displayModal" class="airframe-modal p-dialog-mask open-modal" header="Details Table" [(visible)]="displayModal" (onShow)="maximizeModal(tableModal)" (onHide)="closeModal()" #tableModal>
    <ra-compare-portfolio-table 
    [metricDetailsTable]="metricDetailsTable"
    [tableHeaders]="tableHeaders"
    [isModal]=true>
    </ra-compare-portfolio-table>
  </p-dialog>
  